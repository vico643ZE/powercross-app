'use client'\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\n\nexport default function EditPage({ params }: { params: { id: string } }) {\n  const router = useRouter()\n  const [state, setState] = useState<any>({ title: '', slug: '', content: '', published: true })\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    fetch(`/api/pages/${params.id}`).then(r => r.json()).then(setState).finally(() => setLoading(false))\n  }, [params.id])\n\n  async function save() {\n    setLoading(true)\n    await fetch(`/api/pages/${params.id}`, { method: 'PUT', body: JSON.stringify(state) })\n    setLoading(false)\n    router.push('/admin')\n  }\n\n  async function del() {\n    if (!confirm('Delete page?')) return\n    await fetch(`/api/pages/${params.id}`, { method: 'DELETE' })\n    router.push('/admin')\n  }\n\n  if (loading) return <p>Loadingâ€¦</p>\n  return (\n    <div className=\"grid gap-3 max-w-2xl\">\n      <h1 className=\"text-xl font-semibold\">Edit Page</h1>\n      <input value={state.title} onChange={e=>setState({...state, title:e.target.value})} className=\"rounded border p-2\" placeholder=\"Title\" />\n      <input value={state.slug} onChange={e=>setState({...state, slug:e.target.value})} className=\"rounded border p-2\" placeholder=\"Slug\" />\n      <textarea value={state.content} onChange={e=>setState({...state, content:e.target.value})} className=\"h-64 rounded border p-2\" placeholder=\"Markdown content\" />\n      <label className=\"flex items-center gap-2 text-sm\"><input type=\"checkbox\" checked={state.published} onChange={e=>setState({...state, published:e.target.checked})} /> Published</label>\n      <div className=\"flex gap-2\">\n        <button onClick={save} className=\"rounded bg-slate-900 px-4 py-2 text-white\">Save</button>\n        <button onClick={del} className=\"rounded border px-4 py-2\">Delete</button>\n      </div>\n    </div>\n  )\n}\n