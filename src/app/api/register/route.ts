import { z } from 'zod'\nimport { registerUser } from '@/lib/auth'\n\nconst schema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8),\n  name: z.string().optional(),\n})\n\nexport async function POST(req: Request) {\n  const json = await req.json()\n  const parsed = schema.safeParse(json)\n  if (!parsed.success) return new Response(JSON.stringify(parsed.error.flatten()), { status: 400 })\n  try {\n    await registerUser(parsed.data.email, parsed.data.password, parsed.data.name)\n    return new Response(null, { status: 201 })\n  } catch (e: any) {\n    return new Response(e?.message ?? 'Error', { status: 400 })\n  }\n}\n