import { prisma } from '@/lib/prisma'\nimport Link from 'next/link'\n\nexport const dynamic = 'force-dynamic'\n\nexport default async function AdminPage() {\n  const pages = await prisma.page.findMany({ orderBy: { updatedAt: 'desc' } })\n  const posts = await prisma.post.findMany({ orderBy: { updatedAt: 'desc' } })\n  const leads = await prisma.lead.findMany({ orderBy: { createdAt: 'desc' }, take: 10 })\n\n  return (\n    <div className=\"grid gap-8\">\n      <h1 className=\"text-2xl font-semibold\">Admin</h1>\n\n      <section>\n        <div className=\"mb-2 flex items-center justify-between\">\n          <h2 className=\"text-lg font-medium\">Pages</h2>\n          <Link href=\"/admin/pages/new\" className=\"text-sm underline\">New Page</Link>\n        </div>\n        <ul className=\"divide-y\">\n          {pages.map(p => (\n            <li key={p.id} className=\"py-2\"><Link className=\"underline\" href={`/admin/pages/${p.id}`}>{p.title}</Link> <span className=\"text-xs text-slate-500\">/{p.slug}</span></li>\n          ))}\n        </ul>\n      </section>\n\n      <section>\n        <div className=\"mb-2 flex items-center justify-between\">\n          <h2 className=\"text-lg font-medium\">Blog</h2>\n          <Link href=\"/admin/posts/new\" className=\"text-sm underline\">New Post</Link>\n        </div>\n        <ul className=\"divide-y\">\n          {posts.map(p => (\n            <li key={p.id} className=\"py-2\"><Link className=\"underline\" href={`/admin/posts/${p.id}`}>{p.title}</Link></li>\n          ))}\n        </ul>\n      </section>\n\n      <section>\n        <h2 className=\"mb-2 text-lg font-medium\">Recent Leads</h2>\n        <ul className=\"divide-y\">\n          {leads.map(l => (\n            <li key={l.id} className=\"py-2 text-sm\">{l.email} {l.name && `â€” ${l.name}`}</li>\n          ))}\n        </ul>\n      </section>\n    </div>\n  )\n}\n